<h1>Fruto Agenda</h1>

<div class="legendas-container">
    <!-- Mini tabela para os instrutores -->
    <div class="legenda-instrutores">
      <h3>Legenda de Instrutores</h3>
      <table class="legenda">
        <thead>
          <tr>
            <th>Cor</th>
            <th>Instrutor</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let instrutor of instrutores">
            <td>
              <div class="cor-legenda" [ngStyle]="{'background-color': instrutor.cor}"></div>
            </td>
            <td>{{ instrutor.nome }}</td> <!-- Apenas o nome do instrutor -->
          </tr>
        </tbody>
      </table>
    </div>
  
    <!-- Nova tabela para as salas -->
    <div class="legenda-salas">
      <h3>Rodizio das Turmas</h3>
      <table class="legenda">
        <thead>
          <tr>
            <th>Dia da Semana</th>
            <th>Sala</th>
            <th>Cor</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let dia of diasDaSemana">
            <td>{{ dia }}</td>
            <td>
              <select [(ngModel)]="salas[dia].nome">
                <option *ngFor="let sala of listaSalas" [value]="sala">{{ sala }}</option>
              </select>
            </td>
            <td>
              <div
                class="cor-legenda"
                [ngStyle]="{'background-color': salas[dia]?.cor || '#f0f0f0'}"
                (click)="selecionarCor(dia)"
              ></div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Nova tabela para Agenda-->
  <div class="agenda-container">
    <table>
      <thead>
        <tr>
          <th>Hor√°rio</th>
          <th *ngFor="let dia of diasDaSemana">{{ dia }}</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let horario of horarios">
          <td>{{ horario }}</td>
          <td *ngFor="let dia of diasDaSemana">
            <div
              class="celula-aula"
              [ngStyle]="{'background-color': getCorInstrutor(agenda[horario][dia]?.instrutor)}"
            >
              <ul>
                <li *ngFor="let aluno of agenda[horario][dia]?.alunos">{{ aluno }}</li>
              </ul>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>